{"version":3,"sources":["webpack:///src/views/treatmentplant/order.vue","webpack:///./src/views/treatmentplant/order.vue?34dc","webpack:///./src/views/treatmentplant/order.vue"],"names":["order","components","fileupload","filters","formatDate","times","time","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","data","page","pageSize","totalNum","categoryVisible","categoryText","form","type","starttime","endtime","categoryid","addOrUpTit","addForm","id","treatmentplantid","sessionStorage","getItem","name","number","unitprice","address","contract","no","weight","totalprice","car","phone","invoice","note","username","tableData","tableTypes","sourceList","xiaoshouTypeList","TypeList","TypeAddList","multipleSelection","centerDialogVisible","endPickerOptions","disabledDate","getTime","now","[object Object]","this","getData","getSelectList","watch","a","b","console","log","methods","row","that","$ajax","get","params","then","response","status","object","str","index","url","_this","obj","list","unshift","objs","value","text","rows","begintime","info","total","source","clearForm","$qs","stringify","indices","post","$message","success","put","length","$confirm","confirmButtonText","cancelButtonText","Number","delete","catch","message","val","i","push","treatmentplant_order","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","ref","model","label-width","label","placeholder","on","change","$event","selectCategoryList","callback","$$v","$set","expression","_l","item","key","_v","selectList","_e","span","staticStyle","width","value-format","font-size","size","click","clearSelect","selection-change","handleSelectionChange","prop","sortable","scopedSlots","_u","fn","scope","_s","_f","lookCategory","href","disabled","fixed","handleEdit","$index","handleDelete","clickAddOrUp","delAll","background","layout","page-size","current-change","changePage","title","visible","top","center","update:visible","directives","rawName","directory","file","delFile","fileUrl","getFileUrl","delFiles","getFileUrls","slot","addSaveForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.797d413f01dc992eceb1.js","sourcesContent":["<template>\n    <div id=\"orderBox\">\n        <div class=\"selectBox\">\n          <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\n            <el-form-item label=\"销售类型\">\n                <el-select v-model=\"form.type\" placeholder=\"请选择销售类型\" @change=\"selectCategoryList(form.type,1)\">\n                    <el-option v-for=\"(item,index) in xiaoshouTypeList\" :key=\"index\"  :label=\"item.text\" :value=\"item.value\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"类别\" v-if=\"form.type != null\">\n                <el-select v-model=\"form.categoryid\" placeholder=\"请选择类别\" @change=\"selectList\">\n                    <el-option v-for=\"(item,index) in TypeList\" :key=\"index\"  :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"时间\">\n              <el-col :span=\"11\">\n                <el-date-picker type=\"date\" placeholder=\"起始日期\" value-format=\"yyyy/MM/dd\" v-model=\"form.starttime\" @change=\"selectList\" style=\"width: 100%;\"></el-date-picker>\n              </el-col>\n              <el-col :span=\"11\">\n                <el-date-picker type=\"date\" placeholder=\"结束日期\" value-format=\"yyyy/MM/dd\" v-model=\"form.endtime\" @change=\"selectList\" style=\"width: 100%;\"></el-date-picker>\n              </el-col>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"warning\" size=\"small\" @click=\"clearSelect\" style=\"font-size:14px\">清空筛选</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <div class=\"tableBox\">\n            <el-table :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\n                <el-table-column\n                  type=\"selection\"\n                  width=\"55\"\n                  >\n                </el-table-column>\n                <el-table-column prop=\"time\" label=\"时间\" sortable>\n                  <template slot-scope=\"scope\">\n                    {{scope.row.time | formatDate}}\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"no\" label=\"订单编号\"></el-table-column>\n                <el-table-column prop=\"name\" label=\"销售客户\"></el-table-column>\n                <el-table-column prop=\"type\" label=\"销售类型\"></el-table-column>\n                <el-table-column prop=\"\" label=\"类别\">\n                  <template  slot-scope=\"scope\">\n                    <el-button type=\"text\" @click=\"lookCategory(scope.row)\">查看</el-button>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"number\" label=\"数量(袋)\"></el-table-column>\n                <el-table-column prop=\"weight\" label=\"重量(kg)\"></el-table-column>\n                <el-table-column prop=\"address\" label=\"销售地址\"></el-table-column>\n                <el-table-column prop=\"car\" label=\"运输车辆\"></el-table-column>\n                <el-table-column prop=\"phone\" label=\"联系电话\"></el-table-column>\n                <el-table-column prop=\"unitprice\" label=\"单价\"></el-table-column>\n                <el-table-column prop=\"totalprice\" label=\"总价\"></el-table-column>\n                <el-table-column prop=\"username\" label=\"出库人\"></el-table-column>\n                <el-table-column prop=\"\" label=\"发票\" width=\"80\">\n                  <template slot-scope=\"scope\">\n                    <el-link type=\"primary\" :href=\"scope.row.invoice\" :disabled=\"scope.row.invoice == null\">下载发票</el-link>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"\" label=\"购销合同\" width=\"80\">\n                  <template slot-scope=\"scope\">\n                    <el-link type=\"primary\" :href=\"scope.row.contract\" :disabled=\"scope.row.contract == null\">下载附件</el-link>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"note\" label=\"备注\"></el-table-column>\n                <el-table-column label=\"操作\" fixed=\"right\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      size=\"mini\"\n                      @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                    <el-button\n                      size=\"mini\"\n                      type=\"danger\"\n                      @click=\"handleDelete(scope.$index, scope.row.id)\">删除</el-button>\n                  </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pafinationBox\">\n              <div>\n                  <el-button type=\"primary\" @click=\"clickAddOrUp\">新增订单</el-button>\n                  <el-button type=\"warning\" @click=\"delAll\">批量删除</el-button>\n              </div>\n              <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"pageSize\"\n                :total=\"totalNum\"\n                @current-change=\"changePage\"\n                >\n              </el-pagination>\n            </div>\n        </div>\n        <el-dialog\n          :title=\"addOrUpTit\"\n          :visible.sync=\"centerDialogVisible\"\n          width=\"50%\"\n          top=\"5vh\"\n          center>\n          <div class=\"dialogMain\">\n            <el-form ref=\"addForm\" :model=\"addForm\" label-width=\"100px\">\n                <el-form-item label=\"订单编号\">\n                    <el-input v-model=\"addForm.no\" placeholder=\"请输入订单编号\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"销售客户\">\n                    <el-input v-model=\"addForm.name\" placeholder=\"请输入销售客户\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"销售类型\">\n                    <el-select v-model=\"addForm.type\" placeholder=\"请选择销售类型\" @change=\"selectCategoryList(addForm.type,2)\">\n                        <el-option v-for=\"(item,index) in xiaoshouTypeList\" :key=\"index\" v-show=\"item.text != '全部'\"  :label=\"item.text\" :value=\"item.value\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"类别\">\n                    <el-select v-model=\"addForm.categoryid\" placeholder=\"请选择类别\">\n                        <el-option v-for=\"(item,index) in TypeAddList\" :key=\"index\" v-show=\"item.name != '全部'\"  :label=\"item.name\" :value=\"item.id\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"重量\">\n                    <el-input v-model=\"addForm.weight\" placeholder=\"请输入重量\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"袋数\">\n                    <el-input v-model=\"addForm.number\" placeholder=\"请输入袋数\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"销售地址\">\n                    <el-input v-model=\"addForm.address\" placeholder=\"请输入销售地址\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"运输车辆\">\n                    <el-input v-model=\"addForm.car\" placeholder=\"请输入运输车辆\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"联系电话\">\n                    <el-input v-model=\"addForm.phone\" placeholder=\"请输入联系电话\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"单价\">\n                    <el-input v-model=\"addForm.unitprice\" placeholder=\"请输入单价\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"总价\">\n                    <el-input v-model=\"addForm.totalprice\" placeholder=\"请输入总价\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"出库人\">\n                    <el-input v-model=\"addForm.username\" placeholder=\"请输入袋数\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"备注\">\n                    <el-input v-model=\"addForm.note\" placeholder=\"请输入备注\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"购销合同\">\n                    <fileupload directory=\"order\" :file=\"addForm.contract\" @delFile=\"delFile\" @fileUrl=\"getFileUrl\"></fileupload>\n                </el-form-item>\n                <el-form-item label=\"发票\">\n                    <fileupload directory=\"order\" :file=\"addForm.invoice\" @delFile=\"delFiles\" @fileUrl=\"getFileUrls\"></fileupload>\n                </el-form-item>\n            </el-form>\n          </div>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"addSaveForm()\">确 定</el-button>\n          </span>\n        </el-dialog>\n        <!-- //查看类别 -->\n        <el-dialog\n        title=\"类别\"\n        :visible.sync=\"categoryVisible\"\n        width=\"200px\">\n        <span>{{categoryText}}</span>\n      </el-dialog>\n    </div>\n</template>\n<script>\nimport fileupload from \"../../components/fileupload.vue\"\n  export default {\n    components:{\n        fileupload\n    },\n    filters: {\n            formatDate: function(times) {\n                var time = new Date(times);\n                var year = time.getFullYear();\n                var month = time.getMonth()+1;\n                var day = time.getDate();\n                var hour = time.getHours();\n                var minutes = time.getMinutes();\n                if(month <10){\n                    month = \"0\" + month;\n                }\n                if(hour <10){\n                    hour = \"0\" + hour;\n                }\n                if(minutes <10){\n                    minutes = \"0\" + minutes;\n                }\n        \n                return year+\"-\"+month+\"-\"+day+\" \"+hour+\":\"+minutes;\n            },\n    },\n    data() {\n      return {\n        page: 1,\n        pageSize: 10,\n        totalNum: 100,\n        categoryVisible: false,\n        categoryText: '',\n        form:{\n          type:null,\n          starttime: '',\n          endtime: '',\n          categoryid: null,\n        },\n        //弹框title\n        addOrUpTit:'',\n        //新增与编辑form\n        addForm:{\n            id: null,\n            treatmentplantid: sessionStorage.getItem('belongId'),\n            name: null,\n            type: null,\n            number: null,\n            unitprice: null,\n            address: null,\n            contract: null,\n            no: null,\n            categoryid: null,\n            weight: null,\n            totalprice: null,\n            car: null,\n            phone: null,\n            invoice: null,\n            note: null,\n            treatmentplantid: null,\n            username: null,\n        },\n        //表格数据\n        tableData: [],\n        tableTypes: [],\n        sourceList: [],\n        xiaoshouTypeList: [],\n        TypeList:[],\n        TypeAddList:[],\n        //批量选择\n        multipleSelection: [],\n        centerDialogVisible: false,\n        endPickerOptions: {\n              disabledDate(time) {\n                  return time.getTime() < Date.now() - 8.64e7;\n              }\n        },\n      };\n    },\n    mounted() {\n      this.getData();\n      this.getSelectList();\n    },\n    watch:{\n      addForm:function(a,b){\n        console.log(a)\n      }\n    },\n    methods: {\n      //查看类别\n      lookCategory(row){\n        var that = this;\n        this.$ajax.get(\"/recovery/order/selectByCategory\",{\n          params:{\n            type: row.type,\n            categoryid: row.categoryid\n          }\n        }).then(function(response){\n              console.log(\"类别\",response);\n              if(response.data.status == 260){\n                that.categoryText = response.data.object.name;\n                that.categoryVisible = true;\n              }\n        })\n      },\n      //销售合同附件\n      getFileUrl(data){\n        console.log(\"销售合同附件\",data);\n        this.addForm.contract = data;\n      },\n      delFile(data){\n        this.addForm.contract = null;\n      },\n      //发票附件\n      getFileUrls(data){\n        console.log(\"发票附件\",data);\n        this.addForm.invoice = data;\n      },\n      delFiles(data){\n        this.addForm.invoice = null;\n      },\n      //获取类别\n      selectCategoryList(str,index){\n        console.log(str,index)\n        var _this = this;\n        var obj = {\"id\":'',\"name\":\"全部\"};\n        var url;\n        if(index == 1){\n          this.form.categoryid = null;\n        }else if(index == 2){\n          this.addForm.categoryid = null;\n        }\n        if(str == \"破碎料\"){\n          url = \"/recovery/cmaterialcategory/selectByTreatmentplantid\"\n        }else if(str == '颗粒料'){\n          url = \"/recovery/gmaterialcategory/selectByTreatmentplantid\"\n        }\n        this.$ajax.get(url,{\n          params:{\n            treatmentplantid: sessionStorage.getItem('belongId'),\n          }\n        }).then(function(response){\n              console.log(\"类别\",response);\n              if(index == 1){\n                _this.TypeList = response.data.list;\n                _this.TypeList.unshift(obj);\n              }else if(index == 2){\n                _this.TypeAddList = response.data.list;\n                _this.TypeAddList.unshift(obj);\n              }\n        })\n      },\n      getSelectList(){\n        var _this = this;\n        var objs = {\"value\":'',\"text\":\"全部\"};\n        this.$ajax.get(\"/recovery/order/typeList\").then(function(response){\n              console.log(\"销售类别\",response);\n              _this.xiaoshouTypeList = response.data.list;\n              _this.xiaoshouTypeList.unshift(objs);\n        })\n      },\n      //获取订单信息\n      getData(){\n        var that = this;\n        if(this.form.starttime == null){\n          this.form.starttime = \"\";\n        }\n        if(this.form.endtime == null){\n          this.form.endtime = \"\";\n        }\n        this.$ajax.get(\"/recovery/order/selectByPage\",{\n            params:{\n              page: this.page,\n              rows: this.pageSize,\n              treatmentplantid: sessionStorage.getItem('belongId'),\n              type: this.form.type,\n              begintime: this.form.starttime==\"\"? \"\" : new Date(this.form.starttime)/1000*1000,\n              endtime: this.form.endtime==\"\"? \"\" : new Date(this.form.endtime)/1000*1000,\n            }\n        }).then(function(response){\n          console.log(response)\n          if(response.data.status == 260){\n            that.tableData = response.data.list;\n            that.totalNum = response.data.info.total;\n          }else{\n            that.tableData = [];\n            that.totalNum = 0;\n          }\n        })\n      },\n      //分页换页\n      changePage(page){\n        this.page = page;\n        this.getData();\n      },\n      \n      //查询\n      selectList(){\n        this.page = 1;\n        this.getData();\n      },\n      //清空筛选\n      clearSelect(){\n        this.form = {\n          type:'',\n          starttime: '',\n          endtime: '',\n          source: '',\n        }\n        this.getData();\n      },\n\n      //清空创建编辑form\n      clearForm(){\n        this.addForm = {\n            id: null,\n            treatmentplantid: sessionStorage.getItem('belongId'),\n            name: null,\n            type: null,\n            number: null,\n            unitprice: null,\n            address: null,\n            contract: null,\n            no: null,\n            categoryid: null,\n            weight: null,\n            totalprice: null,\n            car: null,\n            phone: null,\n            invoice: null,\n            note: null,\n            username: null,\n        } \n      },\n      //点击新增/编辑\n      clickAddOrUp(){\n        this.centerDialogVisible = true;\n        this.addOrUpTit='新增订单';\n        this.clearForm();\n      },\n      //编辑\n      handleEdit(index, row) {\n        console.log(index, row);\n        var that = this;\n        this.centerDialogVisible = true;\n        this.addOrUpTit = \"编辑订单\";\n        that.addForm = {\n            id: row.id,\n            treatmentplantid: row.treatmentplantid,\n            name: row.name,\n            type: row.type,\n            number: row.number,\n            unitprice: row.unitprice,\n            address: row.address,\n            contract: row.contract,\n            no: row.no,\n            categoryid: row.categoryid,\n            weight: row.weight,\n            totalprice: row.totalprice,\n            car: row.car,\n            phone: row.phone,\n            invoice: row.invoice,\n            note: row.note,\n            username: row.username,\n        } \n      },\n      // 新增\n      addSaveForm(index){\n        console.log(this.addForm)\n        // if(this.addForm.cmaterialcategoryid == null){\n        //   this.$message.error(\"*为必填项！\");\n        //   return;\n        // }\n        var that = this;\n        var params = this.$qs.stringify(this.addForm, { indices: false })\n        if(this.addOrUpTit == \"新增订单\"){\n          this.$ajax.post(\"/recovery/order/insert\",params).then(function(response){\n            if(response.data.status == 260){\n              that.centerDialogVisible = false;\n              that.$message.success(\"添加成功\")\n              that.getData();\n              //清空form\n              that.clearForm();\n            }\n          })\n        }else{\n          this.$ajax.put(\"/recovery/order/update\",params).then(function(response){\n            if(response.data.status == 260){\n              that.centerDialogVisible = false;\n              that.$message.success(\"编辑成功\")\n              that.getData();\n              //清空form\n              that.clearForm();\n            }\n          })\n        }\n      },\n      //批量删除\n      delAll(){\n        if(this.multipleSelection.length < 1){\n            return this.$message.success(\"请先选择删除对象\");\n        }\n        this.$confirm('此操作将永久删除选中的订单, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          if(this.multipleSelection.length == this.tableData.length){\n            this.page = Number(this.page)-1;\n          }\n          var that = this;\n          this.$ajax.delete(\"/recovery/order/deletes\",{data:this.multipleSelection}).then(function(response){\n            if(response.data.status == 260){\n              that.$message.success(\"删除成功\")\n\n              that.getData();\n            }\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });          \n        });\n      },\n      handleSelectionChange(val) {\n        this.multipleSelection = [];\n        for(var i = 0 ; i < val.length ; i++){\n          this.multipleSelection.push(val[i].id);\n        }\n        console.log(this.multipleSelection)\n      },\n    \n      //删除\n      handleDelete(index, row) {\n        this.$confirm('此操作将删除该订单, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          console.log(index, row);\n          if(this.tableData.length == 1){\n            this.page = Number(this.page)-1;\n          }\n          var that = this;\n          this.$ajax.delete(\"/recovery/order/delete\",{params:{\n            id: row\n          }}).then(function(response){\n            if(response.data.status == 260){\n              that.$message.success(\"删除成功\")\n              that.getData();\n            }\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });          \n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n#orderBox {\n    width: 100%;\n    margin-top: 20px;\n    background: #F5F7F9;\n}\n.selectBox{\n    width: 95%;\n    margin:  auto;\n}\n.tableBox{\n  width: 95%;\n  margin: auto;\n}\n.pafinationBox{\n  width: 100%;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.red{\n  color: brown\n}\n.selectBox .el-form{\n  width: 100%;\n  height: 50px;\n  margin-top: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.selectBox .selectBox .el-form-item{\n  margin-left: 20px;\n  margin-bottom: 0px;\n}\n.selectBox .el-form-item:first-child{\n  margin-left: 0;\n}\n.workDetailMain{\n  width:100%;\n  background: #F5F7F9;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: flex-start;\n}\n.workDetailMain > li{\n  width: 30%;\n  height: 35px;\n  font-size: 14px;\n  margin-left: 3%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.workDetailMain > li >span:first-child{\n  display: block;\n  width: 100px;\n}\n.workDetailMain > li >span:last-child{\n  color: #333;\n}\n.dialogMain{\n  display: flex;\n  justify-content: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/treatmentplant/order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"orderBox\"}},[_c('div',{staticClass:\"selectBox\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"销售类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择销售类型\"},on:{\"change\":function($event){return _vm.selectCategoryList(_vm.form.type,1)}},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.xiaoshouTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.text,\"value\":item.value}})}),1)],1),_vm._v(\" \"),(_vm.form.type != null)?_c('el-form-item',{attrs:{\"label\":\"类别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类别\"},on:{\"change\":_vm.selectList},model:{value:(_vm.form.categoryid),callback:function ($$v) {_vm.$set(_vm.form, \"categoryid\", $$v)},expression:\"form.categoryid\"}},_vm._l((_vm.TypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"起始日期\",\"value-format\":\"yyyy/MM/dd\"},on:{\"change\":_vm.selectList},model:{value:(_vm.form.starttime),callback:function ($$v) {_vm.$set(_vm.form, \"starttime\", $$v)},expression:\"form.starttime\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"结束日期\",\"value-format\":\"yyyy/MM/dd\"},on:{\"change\":_vm.selectList},model:{value:(_vm.form.endtime),callback:function ($$v) {_vm.$set(_vm.form, \"endtime\", $$v)},expression:\"form.endtime\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"font-size\":\"14px\"},attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":_vm.clearSelect}},[_vm._v(\"清空筛选\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tableBox\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"时间\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(_vm._f(\"formatDate\")(scope.row.time))+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"no\",\"label\":\"订单编号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"销售客户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"销售类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"类别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.lookCategory(scope.row)}}},[_vm._v(\"查看\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"数量(袋)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weight\",\"label\":\"重量(kg)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"销售地址\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"car\",\"label\":\"运输车辆\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"联系电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"unitprice\",\"label\":\"单价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalprice\",\"label\":\"总价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"出库人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"发票\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\",\"href\":scope.row.invoice,\"disabled\":scope.row.invoice == null}},[_vm._v(\"下载发票\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"购销合同\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\",\"href\":scope.row.contract,\"disabled\":scope.row.contract == null}},[_vm._v(\"下载附件\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"note\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pafinationBox\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickAddOrUp}},[_vm._v(\"新增订单\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.delAll}},[_vm._v(\"批量删除\")])],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.pageSize,\"total\":_vm.totalNum},on:{\"current-change\":_vm.changePage}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.addOrUpTit,\"visible\":_vm.centerDialogVisible,\"width\":\"50%\",\"top\":\"5vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('div',{staticClass:\"dialogMain\"},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"订单编号\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入订单编号\"},model:{value:(_vm.addForm.no),callback:function ($$v) {_vm.$set(_vm.addForm, \"no\", $$v)},expression:\"addForm.no\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"销售客户\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入销售客户\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"销售类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择销售类型\"},on:{\"change\":function($event){return _vm.selectCategoryList(_vm.addForm.type,2)}},model:{value:(_vm.addForm.type),callback:function ($$v) {_vm.$set(_vm.addForm, \"type\", $$v)},expression:\"addForm.type\"}},_vm._l((_vm.xiaoshouTypeList),function(item,index){return _c('el-option',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.text != '全部'),expression:\"item.text != '全部'\"}],key:index,attrs:{\"label\":item.text,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类别\"},model:{value:(_vm.addForm.categoryid),callback:function ($$v) {_vm.$set(_vm.addForm, \"categoryid\", $$v)},expression:\"addForm.categoryid\"}},_vm._l((_vm.TypeAddList),function(item,index){return _c('el-option',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.name != '全部'),expression:\"item.name != '全部'\"}],key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重量\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入重量\"},model:{value:(_vm.addForm.weight),callback:function ($$v) {_vm.$set(_vm.addForm, \"weight\", $$v)},expression:\"addForm.weight\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"袋数\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入袋数\"},model:{value:(_vm.addForm.number),callback:function ($$v) {_vm.$set(_vm.addForm, \"number\", $$v)},expression:\"addForm.number\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"销售地址\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入销售地址\"},model:{value:(_vm.addForm.address),callback:function ($$v) {_vm.$set(_vm.addForm, \"address\", $$v)},expression:\"addForm.address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"运输车辆\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入运输车辆\"},model:{value:(_vm.addForm.car),callback:function ($$v) {_vm.$set(_vm.addForm, \"car\", $$v)},expression:\"addForm.car\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.addForm.phone),callback:function ($$v) {_vm.$set(_vm.addForm, \"phone\", $$v)},expression:\"addForm.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单价\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单价\"},model:{value:(_vm.addForm.unitprice),callback:function ($$v) {_vm.$set(_vm.addForm, \"unitprice\", $$v)},expression:\"addForm.unitprice\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"总价\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入总价\"},model:{value:(_vm.addForm.totalprice),callback:function ($$v) {_vm.$set(_vm.addForm, \"totalprice\", $$v)},expression:\"addForm.totalprice\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"出库人\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入袋数\"},model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入备注\"},model:{value:(_vm.addForm.note),callback:function ($$v) {_vm.$set(_vm.addForm, \"note\", $$v)},expression:\"addForm.note\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"购销合同\"}},[_c('fileupload',{attrs:{\"directory\":\"order\",\"file\":_vm.addForm.contract},on:{\"delFile\":_vm.delFile,\"fileUrl\":_vm.getFileUrl}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发票\"}},[_c('fileupload',{attrs:{\"directory\":\"order\",\"file\":_vm.addForm.invoice},on:{\"delFile\":_vm.delFiles,\"fileUrl\":_vm.getFileUrls}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addSaveForm()}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"类别\",\"visible\":_vm.categoryVisible,\"width\":\"200px\"},on:{\"update:visible\":function($event){_vm.categoryVisible=$event}}},[_c('span',[_vm._v(_vm._s(_vm.categoryText))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6c2f80d9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/treatmentplant/order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6c2f80d9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6c2f80d9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6c2f80d9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/treatmentplant/order.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}