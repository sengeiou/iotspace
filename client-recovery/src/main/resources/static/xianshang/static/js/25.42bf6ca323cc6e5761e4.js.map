{"version":3,"sources":["webpack:///src/views/treatmentplant/order.vue","webpack:///./src/views/treatmentplant/order.vue?e504","webpack:///./src/views/treatmentplant/order.vue"],"names":["order","components","fileupload","filters","formatDate","times","time","Date","year","getFullYear","month","getMonth","day","getDate","hour","getHours","minutes","getMinutes","data","page","pageSize","totalNum","categoryVisible","categoryText","categoryFlag","form","type","starttime","endtime","categoryid","addOrUpTit","addForm","id","treatmentplantid","sessionStorage","getItem","name","number","unitprice","address","contract","no","weight","totalprice","car","phone","invoice","note","username","tableData","tableTypes","sourceList","xiaoshouTypeList","TypeList","TypeAddList","multipleSelection","centerDialogVisible","endPickerOptions","disabledDate","getTime","now","weightText","weightNumver","[object Object]","this","getData","getSelectList","watch","a","b","console","log","methods","row","that","$ajax","get","params","then","response","status","object","str","index","url","_this","obj","list","unshift","stock","weightNumber","objs","value","text","rows","begintime","info","total","source","clearForm","Number","$message","error","$qs","stringify","indices","post","success","put","length","$confirm","confirmButtonText","cancelButtonText","delete","catch","message","val","i","push","treatmentplant_order","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","ref","model","label-width","label","placeholder","on","change","$event","selectCategoryList","callback","$$v","$set","expression","_l","item","key","_v","selectList","_e","span","staticStyle","width","value-format","font-size","size","click","clearSelect","selection-change","handleSelectionChange","prop","sortable","scopedSlots","_u","fn","scope","_s","_f","lookCategory","href","disabled","fixed","handleEdit","$index","clickAddOrUp","background","layout","page-size","current-change","changePage","title","visible","top","center","update:visible","required","directives","rawName","getWeight","directory","file","delFile","fileUrl","getFileUrl","delFiles","getFileUrls","slot","addSaveForm","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/25.42bf6ca323cc6e5761e4.js","sourcesContent":["<template>\n    <div id=\"orderBox\">\n        <div class=\"selectBox\">\n          <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\n            <el-form-item label=\"销售类型\">\n                <el-select v-model=\"form.type\" placeholder=\"请选择销售类型\" @change=\"selectCategoryList(form.type,1)\">\n                    <el-option v-for=\"(item,index) in xiaoshouTypeList\" :key=\"index\"  :label=\"item.text\" :value=\"item.value\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"类别\" v-if=\"form.type != null\">\n                <el-select v-model=\"form.categoryid\" placeholder=\"请选择类别\" @change=\"selectList\">\n                    <el-option v-for=\"(item,index) in TypeList\" :key=\"index\"  :label=\"item.name\" :value=\"item.id\"></el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"时间\">\n              <el-col :span=\"11\">\n                <el-date-picker type=\"date\" placeholder=\"起始日期\" value-format=\"yyyy/MM/dd\" v-model=\"form.starttime\" @change=\"selectList\" style=\"width: 100%;\"></el-date-picker>\n              </el-col>\n              <el-col :span=\"11\">\n                <el-date-picker type=\"date\" placeholder=\"结束日期\" value-format=\"yyyy/MM/dd\" v-model=\"form.endtime\" @change=\"selectList\" style=\"width: 100%;\"></el-date-picker>\n              </el-col>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"warning\" size=\"small\" @click=\"clearSelect\" style=\"font-size:14px\">清空筛选</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n        <div class=\"tableBox\">\n            <el-table :data=\"tableData\" style=\"width: 100%\" @selection-change=\"handleSelectionChange\">\n                <!-- <el-table-column\n                  type=\"selection\"\n                  width=\"55\"\n                  >\n                </el-table-column> -->\n                <el-table-column prop=\"time\" label=\"时间\" sortable>\n                  <template slot-scope=\"scope\">\n                    {{scope.row.time | formatDate}}\n                  </template>\n                </el-table-column>\n                <!-- <el-table-column prop=\"no\" label=\"订单编号\"></el-table-column> -->\n                <el-table-column prop=\"name\" label=\"销售客户\"></el-table-column>\n                <el-table-column prop=\"type\" label=\"销售类型\"></el-table-column>\n                <el-table-column prop=\"\" label=\"类别\">\n                  <template  slot-scope=\"scope\">\n                    <el-button type=\"text\" @click=\"lookCategory(scope.row)\">查看</el-button>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"number\" label=\"数量(袋)\"></el-table-column>\n                <el-table-column prop=\"weight\" label=\"重量(kg)\"></el-table-column>\n                <el-table-column prop=\"address\" label=\"销售地址\"></el-table-column>\n                <el-table-column prop=\"car\" label=\"运输车辆\"></el-table-column>\n                <el-table-column prop=\"phone\" label=\"联系电话\"></el-table-column>\n                <el-table-column prop=\"unitprice\" label=\"单价\"></el-table-column>\n                <el-table-column prop=\"totalprice\" label=\"总价\"></el-table-column>\n                <el-table-column prop=\"username\" label=\"出库人\"></el-table-column>\n                <el-table-column prop=\"\" label=\"发票\" width=\"80\">\n                  <template slot-scope=\"scope\">\n                    <el-link type=\"primary\" :href=\"scope.row.invoice\" :disabled=\"scope.row.invoice == null\">下载发票</el-link>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"\" label=\"购销合同\" width=\"80\">\n                  <template slot-scope=\"scope\">\n                    <el-link type=\"primary\" :href=\"scope.row.contract\" :disabled=\"scope.row.contract == null\">下载附件</el-link>\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"note\" label=\"备注\"></el-table-column>\n                <el-table-column label=\"操作\" fixed=\"right\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <el-button\n                      size=\"mini\"\n                      @click=\"handleEdit(scope.$index, scope.row)\">编辑</el-button>\n                    <!-- <el-button\n                      size=\"mini\"\n                      type=\"danger\"\n                      @click=\"handleDelete(scope.$index, scope.row.id)\">删除</el-button> -->\n                  </template>\n                </el-table-column>\n            </el-table>\n            <div class=\"pafinationBox\">\n              <div>\n                  <el-button type=\"primary\" @click=\"clickAddOrUp\">新增订单</el-button>\n                  <!-- <el-button type=\"warning\" @click=\"delAll\">批量删除</el-button> -->\n              </div>\n              <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"pageSize\"\n                :total=\"totalNum\"\n                @current-change=\"changePage\"\n                >\n              </el-pagination>\n            </div>\n        </div>\n        <el-dialog\n          :title=\"addOrUpTit\"\n          :visible.sync=\"centerDialogVisible\"\n          width=\"50%\"\n          top=\"5vh\"\n          center>\n          <div class=\"dialogMain\">\n            <el-form ref=\"addForm\" :model=\"addForm\" label-width=\"100px\">\n                <!-- <el-form-item label=\"订单编号\">\n                    <el-input v-model=\"addForm.no\" placeholder=\"请输入订单编号\"></el-input>\n                </el-form-item> -->\n                <el-form-item label=\"销售客户\" required>\n                    <el-input v-model=\"addForm.name\" placeholder=\"请输入销售客户\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"销售类型\" required>\n                    <el-select v-model=\"addForm.type\" placeholder=\"请选择销售类型\" @change=\"selectCategoryList(addForm.type,2)\">\n                        <el-option v-for=\"(item,index) in xiaoshouTypeList\" :key=\"index\" v-show=\"item.text != '全部'\"  :label=\"item.text\" :value=\"item.value\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"类别\" required>\n                    <el-select v-model=\"addForm.categoryid\" placeholder=\"请选择类别\" @change=\"getWeight\">\n                        <el-option v-for=\"(item,index) in TypeAddList\" :key=\"index\" v-show=\"item.name != '全部'\"  :label=\"item.name\" :value=\"item.id\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"重量\" required>\n                    <el-input v-model=\"addForm.weight\" :placeholder=\"weightText\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"袋数\" required>\n                    <el-input v-model=\"addForm.number\" placeholder=\"请输入袋数\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"销售地址\" required>\n                    <el-input v-model=\"addForm.address\" placeholder=\"请输入销售地址\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"运输车辆\" required>\n                    <el-input v-model=\"addForm.car\" placeholder=\"请输入运输车辆\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"联系电话\" required>\n                    <el-input v-model=\"addForm.phone\" placeholder=\"请输入联系电话\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"单价\" required>\n                    <el-input v-model=\"addForm.unitprice\" placeholder=\"请输入单价\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"总价\" required>\n                    <el-input v-model=\"addForm.totalprice\" placeholder=\"请输入总价\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"出库人\" required>\n                    <el-input v-model=\"addForm.username\" placeholder=\"请输入出库人\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"备注\">\n                    <el-input v-model=\"addForm.note\" placeholder=\"请输入备注\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"购销合同\">\n                    <fileupload directory=\"order\" :file=\"addForm.contract\" @delFile=\"delFile\" @fileUrl=\"getFileUrl\"></fileupload>\n                </el-form-item>\n                <el-form-item label=\"发票\">\n                    <fileupload directory=\"order\" :file=\"addForm.invoice\" @delFile=\"delFiles\" @fileUrl=\"getFileUrls\"></fileupload>\n                </el-form-item>\n            </el-form>\n          </div>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n            <el-button type=\"primary\" @click=\"addSaveForm()\">确 定</el-button>\n          </span>\n        </el-dialog>\n        <!-- //查看类别 -->\n        <el-dialog\n        title=\"类别\"\n        :visible.sync=\"categoryVisible\"\n        width=\"200px\">\n        <span>{{categoryText}}</span>\n      </el-dialog>\n    </div>\n</template>\n<script>\nimport fileupload from \"../../components/fileupload.vue\"\n  export default {\n    components:{\n        fileupload\n    },\n    filters: {\n            formatDate: function(times) {\n                var time = new Date(times);\n                var year = time.getFullYear();\n                var month = time.getMonth()+1;\n                var day = time.getDate();\n                var hour = time.getHours();\n                var minutes = time.getMinutes();\n                if(month <10){\n                    month = \"0\" + month;\n                }\n                if(hour <10){\n                    hour = \"0\" + hour;\n                }\n                if(minutes <10){\n                    minutes = \"0\" + minutes;\n                }\n        \n                return year+\"-\"+month+\"-\"+day+\" \"+hour+\":\"+minutes;\n            },\n    },\n    data() {\n      return {\n        page: 1,\n        pageSize: 10,\n        totalNum: 100,\n        categoryVisible: false,\n        categoryText: '',\n        categoryFlag: null,\n        form:{\n          type:null,\n          starttime: '',\n          endtime: '',\n          categoryid: null,\n        },\n        //弹框title\n        addOrUpTit:'',\n        //新增与编辑form\n        addForm:{\n            id: null,\n            treatmentplantid: sessionStorage.getItem('belongId'),\n            name: null,\n            type: null,\n            number: null,\n            unitprice: null,\n            address: null,\n            contract: null,\n            no: null,\n            categoryid: null,\n            weight: null,\n            totalprice: null,\n            car: null,\n            phone: null,\n            invoice: null,\n            note: null,\n            treatmentplantid: null,\n            username: null,\n        },\n        //表格数据\n        tableData: [],\n        tableTypes: [],\n        sourceList: [],\n        xiaoshouTypeList: [],\n        TypeList:[],\n        TypeAddList:[],\n        //批量选择\n        multipleSelection: [],\n        centerDialogVisible: false,\n        endPickerOptions: {\n              disabledDate(time) {\n                  return time.getTime() < Date.now() - 8.64e7;\n              }\n        },\n        weightText: \"请输入重量\",\n        weightNumver: 0,\n      };\n    },\n    mounted() {\n      this.getData();\n      this.getSelectList();\n    },\n    watch:{\n      addForm:function(a,b){\n        console.log(a)\n      }\n    },\n    methods: {\n      //查看类别\n      lookCategory(row){\n        var that = this;\n        this.$ajax.get(\"/recovery/order/selectByCategory\",{\n          params:{\n            type: row.type,\n            categoryid: row.categoryid\n          }\n        }).then(function(response){\n              console.log(\"类别\",response);\n              if(response.data.status == 260){\n                that.categoryText = response.data.object.name;\n                that.categoryVisible = true;\n              }\n        })\n      },\n      //销售合同附件\n      getFileUrl(data){\n        console.log(\"销售合同附件\",data);\n        this.addForm.contract = data;\n      },\n      delFile(data){\n        this.addForm.contract = null;\n      },\n      //发票附件\n      getFileUrls(data){\n        console.log(\"发票附件\",data);\n        this.addForm.invoice = data;\n      },\n      delFiles(data){\n        this.addForm.invoice = null;\n      },\n      //获取类别\n      selectCategoryList(str,index){\n        console.log(str,index)\n        var _this = this;\n        var obj = {\"id\":'',\"name\":\"全部\"};\n        var url;\n        if(index == 1){\n          this.form.categoryid = null;\n        }else if(index == 2){\n          this.addForm.categoryid = null;\n        }\n        //记录类别标识\n        this.categoryFlag = str;\n        if(str == \"破碎料\"){\n          url = \"/recovery/cmaterialcategory/selectByTreatmentplantid\"\n        }else if(str == '颗粒料'){\n          url = \"/recovery/gmaterialcategory/selectByTreatmentplantid\"\n        }\n        this.$ajax.get(url,{\n          params:{\n            treatmentplantid: sessionStorage.getItem('belongId'),\n          }\n        }).then(function(response){\n              console.log(\"类别\",response);\n              if(index == 1){\n                _this.TypeList = response.data.list;\n                _this.TypeList.unshift(obj);\n              }else if(index == 2){\n                _this.TypeAddList = response.data.list;\n                _this.TypeAddList.unshift(obj);\n              }\n        })\n      },\n      //获取库存重量\n      getWeight(){\n        var that = this;\n        var url;\n        if(this.categoryFlag == \"破碎料\"){\n          url = \"/recovery/cmaterialcategory/selectByPrimaryKey\"\n        }else if(this.categoryFlag == '颗粒料'){\n          url = \"/recovery/gmaterialcategory/selectByPrimaryKey\"\n        }\n         //颗粒料类别\n        this.$ajax.get(url,{\n          params:{\n            id: that.addForm.categoryid,\n          }\n        }).then(function(response){\n              console.log(\"库存重量\",response);\n              if(response.data.status == 260){\n                that.weightText = \"库存剩余\"+response.data.object.stock+\"kg\";\n                that.weightNumber = response.data.object.stock;\n              }else{\n                that.weightText = \"请输入重量\";\n                that.weightNumber = 0;\n              }\n              \n        })\n      },\n      getSelectList(){\n        var _this = this;\n        var objs = {\"value\":'',\"text\":\"全部\"};\n        this.$ajax.get(\"/recovery/order/typeList\").then(function(response){\n              console.log(\"销售类别\",response);\n              _this.xiaoshouTypeList = response.data.list;\n              _this.xiaoshouTypeList.unshift(objs);\n        })\n      },\n      //获取订单信息\n      getData(){\n        var that = this;\n        if(this.form.starttime == null){\n          this.form.starttime = \"\";\n        }\n        if(this.form.endtime == null){\n          this.form.endtime = \"\";\n        }\n        this.$ajax.get(\"/recovery/order/selectByPage\",{\n            params:{\n              page: this.page,\n              rows: this.pageSize,\n              treatmentplantid: sessionStorage.getItem('belongId'),\n              type: this.form.type,\n              begintime: this.form.starttime==\"\"? \"\" : new Date(this.form.starttime)/1000*1000,\n              endtime: this.form.endtime==\"\"? \"\" : new Date(this.form.endtime)/1000*1000,\n            }\n        }).then(function(response){\n          console.log(response)\n          if(response.data.status == 260){\n            that.tableData = response.data.list;\n            that.totalNum = response.data.info.total;\n          }else{\n            that.tableData = [];\n            that.totalNum = 0;\n          }\n        })\n      },\n      //分页换页\n      changePage(page){\n        this.page = page;\n        this.getData();\n      },\n      \n      //查询\n      selectList(){\n        this.page = 1;\n        this.getData();\n      },\n      //清空筛选\n      clearSelect(){\n        this.form = {\n          type:'',\n          starttime: '',\n          endtime: '',\n          source: '',\n        }\n        this.getData();\n      },\n\n      //清空创建编辑form\n      clearForm(){\n        this.addForm = {\n            id: null,\n            treatmentplantid: sessionStorage.getItem('belongId'),\n            name: null,\n            type: null,\n            number: null,\n            unitprice: null,\n            address: null,\n            contract: null,\n            no: null,\n            categoryid: null,\n            weight: null,\n            totalprice: null,\n            car: null,\n            phone: null,\n            invoice: null,\n            note: null,\n            username: null,\n        } \n      },\n      //点击新增/编辑\n      clickAddOrUp(){\n        this.centerDialogVisible = true;\n        this.addOrUpTit='新增订单';\n        this.clearForm();\n      },\n      //编辑\n      handleEdit(index, row) {\n        console.log(index, row);\n        var that = this;\n        this.centerDialogVisible = true;\n        this.addOrUpTit = \"编辑订单\";\n        that.addForm = {\n            id: row.id,\n            treatmentplantid: row.treatmentplantid,\n            name: row.name,\n            type: row.type,\n            number: row.number,\n            unitprice: row.unitprice,\n            address: row.address,\n            contract: row.contract,\n            no: row.no,\n            categoryid: row.categoryid,\n            weight: row.weight,\n            totalprice: row.totalprice,\n            car: row.car,\n            phone: row.phone,\n            invoice: row.invoice,\n            note: row.note,\n            username: row.username,\n        } \n      },\n      // 新增\n      addSaveForm(index){\n        console.log(this.addForm)\n        if(this.addForm.treatmentplantid == null || this.addForm.name == null || this.addForm.type == null \n        || this.addForm.number == null || this.addForm.unitprice == null || this.addForm.address == null || \n        this.addForm.categoryid == null || this.addForm.weight == null || this.addForm.totalprice == null ||\n        this.addForm.car == null || this.addForm.phone == null || this.addForm.username == null){\n          this.$message.error(\"*为必填项！\");\n          return;\n        }\n        if(Number(this.addForm.weight) > Number(this.weightNumber)){\n          this.$message.error(\"销售重量库存不足！\");\n          return;\n        }\n        var that = this;\n        var params = this.$qs.stringify(this.addForm, { indices: false })\n        if(this.addOrUpTit == \"新增订单\"){\n          this.$ajax.post(\"/recovery/order/insert\",params).then(function(response){\n            if(response.data.status == 260){\n              that.centerDialogVisible = false;\n              that.$message.success(\"添加成功\")\n              that.getData();\n              //清空form\n              that.clearForm();\n            }\n          })\n        }else{\n          this.$ajax.put(\"/recovery/order/update\",params).then(function(response){\n            if(response.data.status == 260){\n              that.centerDialogVisible = false;\n              that.$message.success(\"编辑成功\")\n              that.getData();\n              //清空form\n              that.clearForm();\n            }\n          })\n        }\n      },\n      //批量删除\n      delAll(){\n        if(this.multipleSelection.length < 1){\n            return this.$message.success(\"请先选择删除对象\");\n        }\n        this.$confirm('此操作将永久删除选中的订单, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          if(this.multipleSelection.length == this.tableData.length){\n            this.page = Number(this.page)-1;\n          }\n          var that = this;\n          this.$ajax.delete(\"/recovery/order/deletes\",{data:this.multipleSelection}).then(function(response){\n            if(response.data.status == 260){\n              that.$message.success(\"删除成功\")\n\n              that.getData();\n            }\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });          \n        });\n      },\n      handleSelectionChange(val) {\n        this.multipleSelection = [];\n        for(var i = 0 ; i < val.length ; i++){\n          this.multipleSelection.push(val[i].id);\n        }\n        console.log(this.multipleSelection)\n      },\n    \n      //删除\n      handleDelete(index, row) {\n        this.$confirm('此操作将删除该订单, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          console.log(index, row);\n          if(this.tableData.length == 1){\n            this.page = Number(this.page)-1;\n          }\n          var that = this;\n          this.$ajax.delete(\"/recovery/order/delete\",{params:{\n            id: row\n          }}).then(function(response){\n            if(response.data.status == 260){\n              that.$message.success(\"删除成功\")\n              that.getData();\n            }\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });          \n        });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n#orderBox {\n    width: 100%;\n    margin-top: 20px;\n    background: #F5F7F9;\n}\n.selectBox{\n    width: 95%;\n    margin:  auto;\n}\n.tableBox{\n  width: 95%;\n  margin: auto;\n}\n.pafinationBox{\n  width: 100%;\n  height: 100px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.red{\n  color: brown\n}\n.selectBox .el-form{\n  width: 100%;\n  height: 50px;\n  margin-top: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.selectBox .selectBox .el-form-item{\n  margin-left: 20px;\n  margin-bottom: 0px;\n}\n.selectBox .el-form-item:first-child{\n  margin-left: 0;\n}\n.workDetailMain{\n  width:100%;\n  background: #F5F7F9;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: flex-start;\n}\n.workDetailMain > li{\n  width: 30%;\n  height: 35px;\n  font-size: 14px;\n  margin-left: 3%;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n.workDetailMain > li >span:first-child{\n  display: block;\n  width: 100px;\n}\n.workDetailMain > li >span:last-child{\n  color: #333;\n}\n.dialogMain{\n  display: flex;\n  justify-content: center;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/treatmentplant/order.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"orderBox\"}},[_c('div',{staticClass:\"selectBox\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"销售类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择销售类型\"},on:{\"change\":function($event){return _vm.selectCategoryList(_vm.form.type,1)}},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},_vm._l((_vm.xiaoshouTypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.text,\"value\":item.value}})}),1)],1),_vm._v(\" \"),(_vm.form.type != null)?_c('el-form-item',{attrs:{\"label\":\"类别\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类别\"},on:{\"change\":_vm.selectList},model:{value:(_vm.form.categoryid),callback:function ($$v) {_vm.$set(_vm.form, \"categoryid\", $$v)},expression:\"form.categoryid\"}},_vm._l((_vm.TypeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1):_vm._e(),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"时间\"}},[_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"起始日期\",\"value-format\":\"yyyy/MM/dd\"},on:{\"change\":_vm.selectList},model:{value:(_vm.form.starttime),callback:function ($$v) {_vm.$set(_vm.form, \"starttime\", $$v)},expression:\"form.starttime\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":11}},[_c('el-date-picker',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"date\",\"placeholder\":\"结束日期\",\"value-format\":\"yyyy/MM/dd\"},on:{\"change\":_vm.selectList},model:{value:(_vm.form.endtime),callback:function ($$v) {_vm.$set(_vm.form, \"endtime\", $$v)},expression:\"form.endtime\"}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{staticStyle:{\"font-size\":\"14px\"},attrs:{\"type\":\"warning\",\"size\":\"small\"},on:{\"click\":_vm.clearSelect}},[_vm._v(\"清空筛选\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tableBox\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"prop\":\"time\",\"label\":\"时间\",\"sortable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                \"+_vm._s(_vm._f(\"formatDate\")(scope.row.time))+\"\\n              \")]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"销售客户\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"type\",\"label\":\"销售类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"类别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.lookCategory(scope.row)}}},[_vm._v(\"查看\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"number\",\"label\":\"数量(袋)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"weight\",\"label\":\"重量(kg)\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"address\",\"label\":\"销售地址\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"car\",\"label\":\"运输车辆\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"phone\",\"label\":\"联系电话\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"unitprice\",\"label\":\"单价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"totalprice\",\"label\":\"总价\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"出库人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"发票\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\",\"href\":scope.row.invoice,\"disabled\":scope.row.invoice == null}},[_vm._v(\"下载发票\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"购销合同\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"type\":\"primary\",\"href\":scope.row.contract,\"disabled\":scope.row.contract == null}},[_vm._v(\"下载附件\")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"note\",\"label\":\"备注\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"pafinationBox\"},[_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.clickAddOrUp}},[_vm._v(\"新增订单\")])],1),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.pageSize,\"total\":_vm.totalNum},on:{\"current-change\":_vm.changePage}})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.addOrUpTit,\"visible\":_vm.centerDialogVisible,\"width\":\"50%\",\"top\":\"5vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('div',{staticClass:\"dialogMain\"},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"销售客户\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入销售客户\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"销售类型\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择销售类型\"},on:{\"change\":function($event){return _vm.selectCategoryList(_vm.addForm.type,2)}},model:{value:(_vm.addForm.type),callback:function ($$v) {_vm.$set(_vm.addForm, \"type\", $$v)},expression:\"addForm.type\"}},_vm._l((_vm.xiaoshouTypeList),function(item,index){return _c('el-option',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.text != '全部'),expression:\"item.text != '全部'\"}],key:index,attrs:{\"label\":item.text,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"类别\",\"required\":\"\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择类别\"},on:{\"change\":_vm.getWeight},model:{value:(_vm.addForm.categoryid),callback:function ($$v) {_vm.$set(_vm.addForm, \"categoryid\", $$v)},expression:\"addForm.categoryid\"}},_vm._l((_vm.TypeAddList),function(item,index){return _c('el-option',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.name != '全部'),expression:\"item.name != '全部'\"}],key:index,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"重量\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.weightText},model:{value:(_vm.addForm.weight),callback:function ($$v) {_vm.$set(_vm.addForm, \"weight\", $$v)},expression:\"addForm.weight\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"袋数\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入袋数\"},model:{value:(_vm.addForm.number),callback:function ($$v) {_vm.$set(_vm.addForm, \"number\", $$v)},expression:\"addForm.number\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"销售地址\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入销售地址\"},model:{value:(_vm.addForm.address),callback:function ($$v) {_vm.$set(_vm.addForm, \"address\", $$v)},expression:\"addForm.address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"运输车辆\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入运输车辆\"},model:{value:(_vm.addForm.car),callback:function ($$v) {_vm.$set(_vm.addForm, \"car\", $$v)},expression:\"addForm.car\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"联系电话\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.addForm.phone),callback:function ($$v) {_vm.$set(_vm.addForm, \"phone\", $$v)},expression:\"addForm.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"单价\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入单价\"},model:{value:(_vm.addForm.unitprice),callback:function ($$v) {_vm.$set(_vm.addForm, \"unitprice\", $$v)},expression:\"addForm.unitprice\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"总价\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入总价\"},model:{value:(_vm.addForm.totalprice),callback:function ($$v) {_vm.$set(_vm.addForm, \"totalprice\", $$v)},expression:\"addForm.totalprice\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"出库人\",\"required\":\"\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入出库人\"},model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入备注\"},model:{value:(_vm.addForm.note),callback:function ($$v) {_vm.$set(_vm.addForm, \"note\", $$v)},expression:\"addForm.note\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"购销合同\"}},[_c('fileupload',{attrs:{\"directory\":\"order\",\"file\":_vm.addForm.contract},on:{\"delFile\":_vm.delFile,\"fileUrl\":_vm.getFileUrl}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"发票\"}},[_c('fileupload',{attrs:{\"directory\":\"order\",\"file\":_vm.addForm.invoice},on:{\"delFile\":_vm.delFiles,\"fileUrl\":_vm.getFileUrls}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.addSaveForm()}}},[_vm._v(\"确 定\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"类别\",\"visible\":_vm.categoryVisible,\"width\":\"200px\"},on:{\"update:visible\":function($event){_vm.categoryVisible=$event}}},[_c('span',[_vm._v(_vm._s(_vm.categoryText))])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7d4ce0e4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/treatmentplant/order.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7d4ce0e4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7d4ce0e4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7d4ce0e4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/treatmentplant/order.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}